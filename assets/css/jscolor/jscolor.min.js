var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind(),jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var detected=jscolor.detectDir();jscolor.dir=!1!==detected?detected:"jscolor/"}return jscolor.dir},detectDir:function(){for(var base=location.href,e=document.getElementsByTagName("base"),i=0;i<e.length;i+=1)e[i].href&&(base=e[i].href);for(e=document.getElementsByTagName("script"),i=0;i<e.length;i+=1)if(e[i].src&&/( ^|\/ )jscolor\.js( [?#].* )?$/i.test(e[i].src)){var srcAbs=new jscolor.URI(e[i].src).toAbsolute(base);return srcAbs.path=srcAbs.path.replace(/[^\/]+$/,""),srcAbs.query=null,srcAbs.fragment=null,srcAbs.toString()}return!1},bind:function(){for(var matchClass=new RegExp("( ^|\\s )( "+jscolor.bindClass+" )( \\s*( \\{[^}]*\\} )|\\s|$ )","i"),e=document.getElementsByTagName("input"),i=0;i<e.length;i+=1){var m;if(!jscolor.isColorAttrSupported||"color"!=e[i].type.toLowerCase())if(!e[i].color&&e[i].className&&(m=e[i].className.match(matchClass))){var prop={};if(m[4])try{prop=new Function("return ( "+m[4]+" )")()}catch(eInvalidProp){}e[i].color=new jscolor.color(e[i],prop)}}},preload:function(){for(var fn in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(fn)&&jscolor.loadImage(fn)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(filename){jscolor.imgRequire[filename]=!0},loadImage:function(filename){jscolor.imgLoaded[filename]||(jscolor.imgLoaded[filename]=new Image,jscolor.imgLoaded[filename].src=jscolor.getDir()+filename)},fetchElement:function(mixed){return"string"==typeof mixed?document.getElementById(mixed):mixed},addEvent:function(el,evnt,func){el.addEventListener?el.addEventListener(evnt,func,!1):el.attachEvent&&el.attachEvent("on"+evnt,func)},fireEvent:function(el,evnt){if(el)if(document.createEvent)(ev=document.createEvent("HTMLEvents")).initEvent(evnt,!0,!0),el.dispatchEvent(ev);else if(document.createEventObject){var ev=document.createEventObject();el.fireEvent("on"+evnt,ev)}else el["on"+evnt]&&el["on"+evnt]()},getElementPos:function(e){var e1=e,e2=e,x=0,y=0;if(e1.offsetParent)for(;x+=e1.offsetLeft,y+=e1.offsetTop,e1=e1.offsetParent;);for(;(e2=e2.parentNode)&&"BODY"!==e2.nodeName.toUpperCase();)x-=e2.scrollLeft,y-=e2.scrollTop;return[x,y]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getRelMousePos:function(e){var x=0,y=0;return e||(e=window.event),"number"==typeof e.offsetX?(x=e.offsetX,y=e.offsetY):"number"==typeof e.layerX&&(x=e.layerX,y=e.layerY),{x:x,y:y}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(uri){function removeDotSegments(path){for(var out="";path;)if("../"===path.substr(0,3)||"./"===path.substr(0,2))path=path.replace(/^\.+/,"").substr(1);else if("/./"===path.substr(0,3)||"/."===path)path="/"+path.substr(3);else if("/../"===path.substr(0,4)||"/.."===path)path="/"+path.substr(4),out=out.replace(/\/?[^\/]*$/,"");else if("."===path||".."===path)path="";else{var rm=path.match(/^\/?[^\/]*/)[0];path=path.substr(rm.length),out+=rm}return out}this.scheme=null,this.authority=null,this.path="",this.query=null,this.fragment=null,this.parse=function(uri){var m=uri.match(/^( ( [A-Za-z][0-9A-Za-z+.-]* )( : ) )?( ( \/\/ )( [^\/?#]* ) )?( [^?#]* )( ( \? )( [^#]* ) )?( ( # )( .* ) )?/);return this.scheme=m[3]?m[2]:null,this.authority=m[5]?m[6]:null,this.path=m[7],this.query=m[9]?m[10]:null,this.fragment=m[12]?m[13]:null,this},this.toString=function(){var result="";return null!==this.scheme&&(result=result+this.scheme+":"),null!==this.authority&&(result=result+"//"+this.authority),null!==this.path&&(result+=this.path),null!==this.query&&(result=result+"?"+this.query),null!==this.fragment&&(result=result+"#"+this.fragment),result},this.toAbsolute=function(base){base=new jscolor.URI(base);var r=this,t=new jscolor.URI;return null!==base.scheme&&(null!==r.scheme&&r.scheme.toLowerCase()===base.scheme.toLowerCase()&&(r.scheme=null),null!==r.scheme?(t.scheme=r.scheme,t.authority=r.authority,t.path=removeDotSegments(r.path),t.query=r.query):(null!==r.authority?(t.authority=r.authority,t.path=removeDotSegments(r.path),t.query=r.query):(""===r.path?(t.path=base.path,null!==r.query?t.query=r.query:t.query=base.query):("/"===r.path.substr(0,1)?t.path=removeDotSegments(r.path):(null!==base.authority&&""===base.path?t.path="/"+r.path:t.path=base.path.replace(/[^\/]+$/,"")+r.path,t.path=removeDotSegments(t.path)),t.query=r.query),t.authority=base.authority),t.scheme=base.scheme),t.fragment=r.fragment,t)},uri&&this.parse(uri)},color:function(target,prop){function HSV_RGB(h,s,v){if(null===h)return[v,v,v];var i=Math.floor(h),m=v*(1-s),n=v*(1-s*(i%2?h-i:1-(h-i)));switch(i){case 6:case 0:return[v,n,m];case 1:return[n,v,m];case 2:return[m,v,n];case 3:return[m,n,v];case 4:return[n,m,v];case 5:return[v,m,n]}}function getPickerDims(o){return[2*o.pickerInset+2*o.pickerFace+jscolor.images.pad[0]+(o.slider?2*o.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),o.pickerClosable?4*o.pickerInset+3*o.pickerFace+jscolor.images.pad[1]+o.pickerButtonHeight:2*o.pickerInset+2*o.pickerFace+jscolor.images.pad[1]]}function redrawPad(){switch(modeID){case 0:var yComponent=1;break;case 1:yComponent=2}var x=Math.round(THIS.hsv[0]/6*(jscolor.images.pad[0]-1)),y=Math.round((1-THIS.hsv[yComponent])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=THIS.pickerFace+THIS.pickerInset+x-Math.floor(jscolor.images.cross[0]/2)+"px "+(THIS.pickerFace+THIS.pickerInset+y-Math.floor(jscolor.images.cross[1]/2))+"px";var seg=jscolor.picker.sld.childNodes;switch(modeID){case 0:for(var rgb=HSV_RGB(THIS.hsv[0],THIS.hsv[1],1),i=0;i<seg.length;i+=1)seg[i].style.backgroundColor="rgb( "+rgb[0]*(1-i/seg.length)*100+"%,"+rgb[1]*(1-i/seg.length)*100+"%,"+rgb[2]*(1-i/seg.length)*100+"% )";break;case 1:var s,c=[THIS.hsv[2],0,0],f=(i=Math.floor(THIS.hsv[0]))%2?THIS.hsv[0]-i:1-(THIS.hsv[0]-i);switch(i){case 6:case 0:rgb=[0,1,2];break;case 1:rgb=[1,0,2];break;case 2:rgb=[2,0,1];break;case 3:rgb=[2,1,0];break;case 4:rgb=[1,2,0];break;case 5:rgb=[0,2,1]}for(i=0;i<seg.length;i+=1)s=1-1/(seg.length-1)*i,c[1]=c[0]*(1-s*f),c[2]=c[0]*(1-s),seg[i].style.backgroundColor="rgb( "+100*c[rgb[0]]+"%,"+100*c[rgb[1]]+"%,"+100*c[rgb[2]]+"% )"}}function redrawSld(){switch(modeID){case 0:var yComponent=2;break;case 1:yComponent=1}var y=Math.round((1-THIS.hsv[yComponent])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(THIS.pickerFace+THIS.pickerInset+y-Math.floor(jscolor.images.arrow[1]/2))+"px"}function isPickerOwner(){return jscolor.picker&&jscolor.picker.owner===THIS}function setPad(e){var mpos=jscolor.getRelMousePos(e),x=mpos.x-THIS.pickerFace-THIS.pickerInset,y=mpos.y-THIS.pickerFace-THIS.pickerInset;switch(modeID){case 0:THIS.fromHSV(x*(6/(jscolor.images.pad[0]-1)),1-y/(jscolor.images.pad[1]-1),null,leaveSld);break;case 1:THIS.fromHSV(x*(6/(jscolor.images.pad[0]-1)),null,1-y/(jscolor.images.pad[1]-1),leaveSld)}}function setSld(e){var y=jscolor.getRelMousePos(e).y-THIS.pickerFace-THIS.pickerInset;switch(modeID){case 0:THIS.fromHSV(null,null,1-y/(jscolor.images.sld[1]-1),leavePad);break;case 1:THIS.fromHSV(null,1-y/(jscolor.images.sld[1]-1),null,leavePad)}}function dispatchImmediateChange(){THIS.onImmediateChange&&("string"==typeof THIS.onImmediateChange?new Function(THIS.onImmediateChange):THIS.onImmediateChange).call(THIS)}for(var p in this.required=!0,this.adjust=!0,this.hash=!1,this.caps=!0,this.slider=!0,this.valueElement=target,this.styleElement=target,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.minH=0,this.maxH=6,this.minS=0,this.maxS=1,this.minV=0,this.maxV=1,this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4,prop)prop.hasOwnProperty(p)&&(this[p]=prop[p]);this.hidePicker=function(){isPickerOwner()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))},this.showPicker=function(){if(!isPickerOwner()){var a,b,c,tp=jscolor.getElementPos(target),ts=jscolor.getElementSize(target),vp=jscolor.getViewPos(),vs=jscolor.getViewSize(),ps=getPickerDims(this);switch(this.pickerPosition.toLowerCase()){case"left":b=0,c=-(a=1);break;case"right":b=0,c=a=1;break;case"top":a=0,c=-(b=1);break;default:a=0,c=b=1}var l=(ts[b]+ps[b])/2;if(this.pickerSmartPosition)pp=[-vp[a]+tp[a]+ps[a]>vs[a]&&-vp[a]+tp[a]+ts[a]/2>vs[a]/2&&0<=tp[a]+ts[a]-ps[a]?tp[a]+ts[a]-ps[a]:tp[a],-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c>vs[b]?-vp[b]+tp[b]+ts[b]/2>vs[b]/2&&0<=tp[b]+ts[b]-l-l*c?tp[b]+ts[b]-l-l*c:tp[b]+ts[b]-l+l*c:0<=tp[b]+ts[b]-l+l*c?tp[b]+ts[b]-l+l*c:tp[b]+ts[b]-l-l*c];else var pp=[tp[a],tp[b]+ts[b]-l+l*c];!function(x,y){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(THIS.pickerCloseText)};for(var i=0;i<jscolor.images.sld[1];i+=4){var seg=document.createElement("div");seg.style.height="4px",seg.style.fontSize="1px",seg.style.lineHeight="0",jscolor.picker.sld.appendChild(seg)}jscolor.picker.sldB.appendChild(jscolor.picker.sld),jscolor.picker.box.appendChild(jscolor.picker.sldB),jscolor.picker.box.appendChild(jscolor.picker.sldM),jscolor.picker.padB.appendChild(jscolor.picker.pad),jscolor.picker.box.appendChild(jscolor.picker.padB),jscolor.picker.box.appendChild(jscolor.picker.padM),jscolor.picker.btnS.appendChild(jscolor.picker.btnT),jscolor.picker.btn.appendChild(jscolor.picker.btnS),jscolor.picker.box.appendChild(jscolor.picker.btn),jscolor.picker.boxB.appendChild(jscolor.picker.box)}var p=jscolor.picker;if(p.box.onmouseup=p.box.onmouseout=function(){target.focus()},p.box.onmousedown=function(){abortBlur=!0},p.box.onmousemove=function(e){(holdPad||holdSld)&&(holdPad&&setPad(e),holdSld&&setSld(e),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),dispatchImmediateChange())},"ontouchstart"in window){var handle_touchmove=function(e){var event={offsetX:e.touches[0].pageX-touchOffset.X,offsetY:e.touches[0].pageY-touchOffset.Y};(holdPad||holdSld)&&(holdPad&&setPad(event),holdSld&&setSld(event),dispatchImmediateChange()),e.stopPropagation(),e.preventDefault()};p.box.removeEventListener("touchmove",handle_touchmove,!1),p.box.addEventListener("touchmove",handle_touchmove,!1)}p.padM.onmouseup=p.padM.onmouseout=function(){holdPad&&(holdPad=!1,jscolor.fireEvent(valueElement,"change"))},p.padM.onmousedown=function(e){switch(modeID){case 0:0===THIS.hsv[2]&&THIS.fromHSV(null,null,1);break;case 1:0===THIS.hsv[1]&&THIS.fromHSV(null,1,null)}holdPad=!(holdSld=!1),setPad(e),dispatchImmediateChange()},"ontouchstart"in window&&p.padM.addEventListener("touchstart",function(e){touchOffset={X:e.target.offsetParent.offsetLeft,Y:e.target.offsetParent.offsetTop},this.onmousedown({offsetX:e.touches[0].pageX-touchOffset.X,offsetY:e.touches[0].pageY-touchOffset.Y})}),p.sldM.onmouseup=p.sldM.onmouseout=function(){holdSld&&(holdSld=!1,jscolor.fireEvent(valueElement,"change"))},p.sldM.onmousedown=function(e){holdSld=!(holdPad=!1),setSld(e),dispatchImmediateChange()},"ontouchstart"in window&&p.sldM.addEventListener("touchstart",function(e){touchOffset={X:e.target.offsetParent.offsetLeft,Y:e.target.offsetParent.offsetTop},this.onmousedown({offsetX:e.touches[0].pageX-touchOffset.X,offsetY:e.touches[0].pageY-touchOffset.Y})});var insetColors,pickerOutsetColor,dims=getPickerDims(THIS);p.box.style.width=dims[0]+"px",p.box.style.height=dims[1]+"px",p.boxB.style.position="absolute",p.boxB.style.clear="both",p.boxB.style.left=x+"px",p.boxB.style.top=y+"px",p.boxB.style.zIndex=THIS.pickerZIndex,p.boxB.style.border=THIS.pickerBorder+"px solid",p.boxB.style.borderColor=THIS.pickerBorderColor,p.boxB.style.background=THIS.pickerFaceColor,p.pad.style.width=jscolor.images.pad[0]+"px",p.pad.style.height=jscolor.images.pad[1]+"px",p.padB.style.position="absolute",p.padB.style.left=THIS.pickerFace+"px",p.padB.style.top=THIS.pickerFace+"px",p.padB.style.border=THIS.pickerInset+"px solid",p.padB.style.borderColor=THIS.pickerInsetColor,p.padM.style.position="absolute",p.padM.style.left="0",p.padM.style.top="0",p.padM.style.width=THIS.pickerFace+2*THIS.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px",p.padM.style.height=p.box.style.height,p.padM.style.cursor="crosshair",p.sld.style.overflow="hidden",p.sld.style.width=jscolor.images.sld[0]+"px",p.sld.style.height=jscolor.images.sld[1]+"px",p.sldB.style.display=THIS.slider?"block":"none",p.sldB.style.position="absolute",p.sldB.style.right=THIS.pickerFace+"px",p.sldB.style.top=THIS.pickerFace+"px",p.sldB.style.border=THIS.pickerInset+"px solid",p.sldB.style.borderColor=THIS.pickerInsetColor,p.sldM.style.display=THIS.slider?"block":"none",p.sldM.style.position="absolute",p.sldM.style.right="0",p.sldM.style.top="0",p.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+THIS.pickerFace+2*THIS.pickerInset+"px",p.sldM.style.height=p.box.style.height;try{p.sldM.style.cursor="pointer"}catch(eOldIE){p.sldM.style.cursor="hand"}p.btn.style.display=THIS.pickerClosable?"block":"none",p.btn.style.position="absolute",p.btn.style.left=THIS.pickerFace+"px",p.btn.style.bottom=THIS.pickerFace+"px",p.btn.style.padding="0 15px",p.btn.style.height="18px",p.btn.style.border=THIS.pickerInset+"px solid",insetColors=THIS.pickerInsetColor.split(/\s+/),pickerOutsetColor=insetColors.length<2?insetColors[0]:insetColors[1]+" "+insetColors[0]+" "+insetColors[0]+" "+insetColors[1],p.btn.style.borderColor=pickerOutsetColor,p.btn.style.color=THIS.pickerButtonColor,p.btn.style.font="12px sans-serif",p.btn.style.textAlign="center";try{p.btn.style.cursor="pointer"}catch(eOldIE){p.btn.style.cursor="hand"}switch(p.btn.onmousedown=function(){THIS.hidePicker()},p.btnS.style.lineHeight=p.btn.style.height,modeID){case 0:var padImg="hs.png";break;case 1:padImg="hv.png"}p.padM.style.backgroundImage="url( '"+jscolor.getDir()+"cross.gif' )",p.padM.style.backgroundRepeat="no-repeat",p.sldM.style.backgroundImage="url( '"+jscolor.getDir()+"arrow.gif' )",p.sldM.style.backgroundRepeat="no-repeat",p.pad.style.backgroundImage="url( '"+jscolor.getDir()+padImg+"' )",p.pad.style.backgroundRepeat="no-repeat",p.pad.style.backgroundPosition="0 0",redrawPad(),redrawSld(),jscolor.picker.owner=THIS,document.getElementsByTagName("body")[0].appendChild(p.boxB)}(pp[a],pp[b])}},this.importColor=function(){valueElement?this.adjust?!this.required&&/^\s*$/.test(valueElement.value)?(valueElement.value="",styleElement.style.backgroundImage=styleElement.jscStyle.backgroundImage,styleElement.style.backgroundColor=styleElement.jscStyle.backgroundColor,styleElement.style.color=styleElement.jscStyle.color,this.exportColor(leaveValue|leaveStyle)):this.fromString(valueElement.value)||this.exportColor():this.fromString(valueElement.value,leaveValue)||(styleElement.style.backgroundImage=styleElement.jscStyle.backgroundImage,styleElement.style.backgroundColor=styleElement.jscStyle.backgroundColor,styleElement.style.color=styleElement.jscStyle.color,this.exportColor(leaveValue|leaveStyle)):this.exportColor()},this.exportColor=function(flags){if(!(flags&leaveValue)&&valueElement){var value=this.toString();this.caps&&(value=value.toUpperCase()),this.hash&&(value="#"+value),valueElement.value=value}flags&leaveStyle||!styleElement||(styleElement.style.backgroundImage="none",styleElement.style.backgroundColor="#"+this.toString(),styleElement.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000"),flags&leavePad||!isPickerOwner()||redrawPad(),flags&leaveSld||!isPickerOwner()||redrawSld()},this.fromHSV=function(h,s,v,flags){null!==h&&(h=Math.max(0,this.minH,Math.min(6,this.maxH,h))),null!==s&&(s=Math.max(0,this.minS,Math.min(1,this.maxS,s))),null!==v&&(v=Math.max(0,this.minV,Math.min(1,this.maxV,v))),this.rgb=HSV_RGB(null===h?this.hsv[0]:this.hsv[0]=h,null===s?this.hsv[1]:this.hsv[1]=s,null===v?this.hsv[2]:this.hsv[2]=v),this.exportColor(flags)},this.fromRGB=function(r,g,b,flags){null!==r&&(r=Math.max(0,Math.min(1,r))),null!==g&&(g=Math.max(0,Math.min(1,g))),null!==b&&(b=Math.max(0,Math.min(1,b)));var hsv=function(r,g,b){var n=Math.min(Math.min(r,g),b),v=Math.max(Math.max(r,g),b),m=v-n;if(0===m)return[null,0,v];var h=r===n?3+(b-g)/m:g===n?5+(r-b)/m:1+(g-r)/m;return[6===h?0:h,m/v,v]}(null===r?this.rgb[0]:r,null===g?this.rgb[1]:g,null===b?this.rgb[2]:b);null!==hsv[0]&&(this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,hsv[0]))),0!==hsv[2]&&(this.hsv[1]=null===hsv[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,hsv[1]))),this.hsv[2]=null===hsv[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,hsv[2]));var rgb=HSV_RGB(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=rgb[0],this.rgb[1]=rgb[1],this.rgb[2]=rgb[2],this.exportColor(flags)},this.fromString=function(hex,flags){var m=hex.match(/^\W*( [0-9A-F]{3}( [0-9A-F]{3} )? )\W*$/i);return!!m&&(6===m[1].length?this.fromRGB(parseInt(m[1].substr(0,2),16)/255,parseInt(m[1].substr(2,2),16)/255,parseInt(m[1].substr(4,2),16)/255,flags):this.fromRGB(parseInt(m[1].charAt(0)+m[1].charAt(0),16)/255,parseInt(m[1].charAt(1)+m[1].charAt(1),16)/255,parseInt(m[1].charAt(2)+m[1].charAt(2),16)/255,flags),!0)},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var THIS=this,modeID="hvs"===this.pickerMode.toLowerCase()?1:0,abortBlur=!1,valueElement=jscolor.fetchElement(this.valueElement),styleElement=jscolor.fetchElement(this.styleElement),holdPad=!1,holdSld=!1,touchOffset={},leaveValue=1,leaveStyle=2,leavePad=4,leaveSld=8;jscolor.isColorAttrSupported=!1;var el=document.createElement("input");if(el.setAttribute&&(el.setAttribute("type","color"),"color"==el.type.toLowerCase()&&(jscolor.isColorAttrSupported=!0)),jscolor.addEvent(target,"focus",function(){THIS.pickerOnfocus&&THIS.showPicker()}),jscolor.addEvent(target,"blur",function(){abortBlur?abortBlur=!1:window.setTimeout(function(){abortBlur||(valueElement===target&&THIS.importColor(),THIS.pickerOnfocus&&THIS.hidePicker()),abortBlur=!1},0)}),valueElement){var updateField=function(){THIS.fromString(valueElement.value,leaveValue),dispatchImmediateChange()};jscolor.addEvent(valueElement,"keyup",updateField),jscolor.addEvent(valueElement,"input",updateField),jscolor.addEvent(valueElement,"blur",function(){valueElement!==target&&THIS.importColor()}),valueElement.setAttribute("autocomplete","off")}switch(styleElement&&(styleElement.jscStyle={backgroundImage:styleElement.style.backgroundImage,backgroundColor:styleElement.style.backgroundColor,color:styleElement.style.color}),modeID){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif"),jscolor.requireImage("arrow.gif"),this.importColor()}};jscolor.install();